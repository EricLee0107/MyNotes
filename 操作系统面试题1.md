## 操作系统面试题（一）

##### 1. 进程的有哪几种状态，状态转换图，以及各种状态之间的转换条件。

- 创建状态：进程正在被创建
- 就绪状态：当前进程已分配到除CPU意外的所有必要的资源，只要再获得CPU便可立即执行；进程被加入到就绪队列中等待CPU调度运行。
- 运行状态：当前进程已经获得处理机，程序正在执行。
- 阻塞状态：正在执行的进程，由于等待某个事件(如I/O请求、申请缓冲区失败、等待信号等)发生而无法执行时，便放弃处理机从而处于阻塞状态。
- 终止状态：进程运行完毕

![image-20200220232109159](https://eric-typora-img.oss-cn-beijing.aliyuncs.com/typora/20200220232112-432923.png)

<center>进程状态转换图</center>
 ##### 2. 进程与线程的联系和区别

进程：是具有一定独立功能的程序关于某个数据集合上的一次运行活动，进程是系统进行资源分配和调度的一个独立单位。

线程：是进程的一个实体，是CPU调度和分配的基本单位，它是比进程更小的能够独立运行的基本单位，是操作系统可识别的最小执行和调度单位。

**两者的联系：**

1. 一个线程只能属于一个进程，而一个进程可以有多个线程，且至少有一个线程。
2. 资源分配给进程，同一个进程的所有县城共享该进程的所有资源。同一进程中的多个线程共享代码段（代码和常量）、数据段（全局变量和静态变量）、扩展段（堆存储），但每一个进程拥有自己的栈段，栈段又叫运行时段，用来存放所有局部变量和临时变量。
3. CPU分配给线程，即在CPU上运行的是线程。
4. 线程在执行过程中需要协作同步；不同进程的线程间要利用消息通信的方式实现同步。

**两者的区别：**

1. 进程有自己独立的地址空间，而线程没有。
2. 进程是资源分配的最小单位，线程是CPU调度的最小单位。
3. 进程和线程通信方式不同（线程之间的通信比较方便，同一进程下的线程共享数据，所以可以工作这些数据来进行线程间通信，但需要做好访问同步和互斥；进程之间的通信只能通过进程通信的方式进行）
4. 进程上下文切换开销大，线程开销小；
5. 进程的创建开销比线程的大（每启动一个进程，系统就会为它分配地址空间，建立数据表等）
6. 多进程程序更健壮。多线程程序只要一个线程死掉，会对其他线程造成影响，最终整个进程也死掉了；多进程程序一个进程死掉，不会对另一个进程造成影响，因为进程有自己独立的地址空间。

**为什么进程上下文切换比线程开销大？**

进程切换分两步：

1. 切换页目录以使用新的地址空间
2. 切换内核栈和硬件上下文



##### 3. 进程通信的几种方式

##### 4. 线程同步几种方式。(一定要会写生产者、消费者问题，完全消化理解)

##### 5. 线程的实现方式. (也就是用户线程与内核线程的区别)

##### 6. 用户态和核心态的区别

##### 7. 用户栈和内核栈的区别

##### 8. 内存池、进程池、线程池。(c++程序员必须掌握)

#####  9. 死锁的概念，导致死锁的原因

##### 10. 导致死锁的四个必要条件

##### 11. 处理死锁的四个方式

#####  12. 预防死锁的方法、避免死锁的方法

##### 13. 进程调度算法。(周转时间 = 程序结束时间 -- 开始服务时间、带权周转时间= 周转时间 / 要求服务时间)

##### 14. Windows内存管理的方式(块式、页式、段式、段页式)

##### 15. 内存连续分配方式采用的几种算法及各自优劣

##### 16. 动态链接及静态链接

##### 17. 基本分页、请求分页储存管理方式

##### 18. 基本分段、请求分段储存管理方式

##### 19. 分段分页方式的比较各自优缺点

##### 20. 几种页面置换算法，会算所需换页数。(LRU用程序如何实现？)

##### 21. 虚拟内存的定义及实现方式

##### 22. 操作系统的四个特性

##### 23. DMA

##### 24. Spooling

##### 25. 外存分配的几种方式，及各种优劣